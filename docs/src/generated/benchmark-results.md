## Latest CI Results (x86_64)

> Auto-generated by CI on 2026-02-21 19:21 UTC from commit [`c2684a8`](https://github.com/t-cun/compatmalloc/commit/c2684a8467a5e08951e1380725d5df818e9b9afe).
> Results are from GitHub Actions runners (shared infrastructure) and may vary between runs.
> Each allocator is run 3 times; the **best (lowest latency)** result is kept.

### Multi-Allocator Comparison

| Allocator | Latency (64B) | Ratio | Throughput 1T | Ratio | Throughput 4T | Ratio | Peak RSS |
|-----------|------------:|------:|--------------:|------:|--------------:|------:|---------:|
| **compatmalloc** | 14.3 ns | 1.16x | 72.33 Mops/s | .94x | 162.39 Mops/s | .94x | 13700 KB |
| **glibc** | 12.3 ns | 1.00x | 76.74 Mops/s | 1.00x | 171.93 Mops/s | 1.00x | 10660 KB |
| **jemalloc** | 9.9 ns | .80x | 95.46 Mops/s | 1.24x | 247.85 Mops/s | 1.44x | 37532 KB |
| **mimalloc** | 11.0 ns | .89x | 80.26 Mops/s | 1.04x | 199.30 Mops/s | 1.15x | 20928 KB |
| **passthrough** | 21.2 ns | 1.72x | 39.08 Mops/s | .50x | 17.71 Mops/s | .10x | 11012 KB |
| **scudo** | 53.4 ns | 4.34x | 18.64 Mops/s | .24x | 38.71 Mops/s | .22x | 14672 KB |


> **Ratio interpretation:** Latency ratio < 1.0 = faster than glibc. Throughput ratio > 1.0 = faster than glibc.
>
> **Hardened allocators:** compatmalloc, scudo. These have security features (guard pages, quarantine, etc.) that add overhead vs. pure-performance allocators.
>
> **Peak RSS** measured via `/usr/bin/time -v` during a single benchmark run. Hardening features (quarantine, guard pages) increase memory usage.

### malloc/free Latency by Size (glibc)

```
  size=      16:     12.7 ns
  size=      32:     12.3 ns
  size=      64:     12.3 ns
  size=     128:     12.4 ns
  size=     256:     12.4 ns
  size=     512:     12.4 ns
  size=    1024:     12.3 ns
  size=    4096:     23.2 ns
  size=   16384:     23.6 ns
  size=   65536:     23.6 ns
  size=  262144:     25.5 ns
  size=      16:     16.1 ns
  size=      64:     16.5 ns
  size=     256:     30.0 ns
  size=    1024:     28.2 ns
  size=    4096:     71.3 ns
  size=   65536:    767.6 ns
```

### malloc/free Latency by Size (compatmalloc)

```
  size=      16:     14.6 ns
  size=      32:     14.1 ns
  size=      64:     14.3 ns
  size=     128:     14.1 ns
  size=     256:     14.1 ns
  size=     512:     14.1 ns
  size=    1024:     14.1 ns
  size=    4096:     14.1 ns
  size=   16384:     14.2 ns
  size=   65536:     74.8 ns
  size=  262144:    177.7 ns
  size=      16:     12.5 ns
  size=      64:     12.7 ns
  size=     256:     13.9 ns
  size=    1024:     19.7 ns
  size=    4096:     59.9 ns
  size=   65536:    826.1 ns
```

### Multi-threaded Throughput (glibc)

```
  threads=1:  76.74 Mops/sec
  threads=2: 148.69 Mops/sec
  threads=4: 171.93 Mops/sec
  threads=8: 143.12 Mops/sec
```

### Multi-threaded Throughput (compatmalloc)

```
  threads=1:  72.33 Mops/sec
  threads=2: 133.34 Mops/sec
  threads=4: 162.39 Mops/sec
  threads=8: 137.57 Mops/sec
```

### Real-World Application Overhead

| Application | glibc | compatmalloc | Overhead |
|-------------|------:|-------------:|---------:|
| python-json | .0713s | .0771s | 8.00% |
| redis | 2.7366s | 2.7108s | -1.00% |
| nginx | 5.1042s | 5.1043s | 0% |
| sqlite | .2043s | .1274s | -38.00% |
| git | .1720s | .1772s | 3.00% |


> Application benchmarks measure wall-clock time for real programs (Python, Redis, nginx, SQLite, Git).
> Overhead = (compatmalloc_time / glibc_time - 1) * 100%.

---

## ARM64 CI Results

> Auto-generated by CI on 2026-02-21 19:20 UTC from commit [`c2684a8`](https://github.com/t-cun/compatmalloc/commit/c2684a8467a5e08951e1380725d5df818e9b9afe).
> Runner architecture: `aarch64` | Best-of-3 runs.

### Multi-Allocator Comparison (ARM64)

| Allocator | Latency (64B) | Ratio | Throughput 1T | Ratio | Throughput 4T | Ratio | Peak RSS |
|-----------|------------:|------:|--------------:|------:|--------------:|------:|---------:|
| **compatmalloc** | 13.8 ns | 1.16x | 70.93 Mops/s | .87x | 270.24 Mops/s | .84x | 13008 KB |
| **glibc** | 11.8 ns | 1.00x | 81.07 Mops/s | 1.00x | 318.08 Mops/s | 1.00x | 10208 KB |
| **jemalloc** | 10.0 ns | .84x | 96.30 Mops/s | 1.18x | 354.21 Mops/s | 1.11x | 12172 KB |
| **mimalloc** | 12.0 ns | 1.01x | 80.31 Mops/s | .99x | 311.75 Mops/s | .98x | 9276 KB |


> **Ratio interpretation:** Latency ratio < 1.0 = faster than glibc. Throughput ratio > 1.0 = faster than glibc.
>
> **Peak RSS** measured via `/usr/bin/time -v` during a single benchmark run. Hardening features (quarantine, guard pages) increase memory usage.

### malloc/free Latency by Size - ARM64 (glibc)

```
  size=      16:     11.8 ns
  size=      32:     11.7 ns
  size=      64:     11.8 ns
  size=     128:     12.0 ns
  size=     256:     12.0 ns
  size=     512:     12.1 ns
  size=    1024:     12.1 ns
  size=    4096:     24.2 ns
  size=   16384:     24.5 ns
  size=   65536:     24.5 ns
  size=  262144:     25.1 ns
  size=      16:     17.6 ns
  size=      64:     18.0 ns
  size=     256:     27.9 ns
  size=    1024:     32.0 ns
  size=    4096:     51.3 ns
  size=   65536:    394.2 ns
```

### malloc/free Latency by Size - ARM64 (compatmalloc)

```
  size=      16:     13.5 ns
  size=      32:     14.1 ns
  size=      64:     13.8 ns
  size=     128:     13.8 ns
  size=     256:     13.8 ns
  size=     512:     13.9 ns
  size=    1024:     13.9 ns
  size=    4096:     14.0 ns
  size=   16384:     13.9 ns
  size=   65536:    239.3 ns
  size=  262144:    694.0 ns
  size=      16:     15.8 ns
  size=      64:     16.0 ns
  size=     256:     18.4 ns
  size=    1024:     23.4 ns
  size=    4096:     45.4 ns
  size=   65536:    604.7 ns
```

### Multi-threaded Throughput - ARM64 (glibc)

```
  threads=1:  81.07 Mops/sec
  threads=2: 161.31 Mops/sec
  threads=4: 318.08 Mops/sec
  threads=8: 218.33 Mops/sec
```

### Multi-threaded Throughput - ARM64 (compatmalloc)

```
  threads=1:  70.93 Mops/sec
  threads=2: 141.64 Mops/sec
  threads=4: 270.24 Mops/sec
  threads=8: 260.78 Mops/sec
```
