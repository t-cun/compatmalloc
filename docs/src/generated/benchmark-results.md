## Latest CI Results (x86_64)

> Auto-generated by CI on 2026-02-22 04:53 UTC from commit [`66681ae`](https://github.com/t-cun/compatmalloc/commit/66681aee358ecdb519e07c66ae1dd38c0fbcb820).
> Results are from GitHub Actions runners (shared infrastructure) and may vary between runs.
> Each allocator is run 3 times; the **best (lowest latency)** result is kept.

### Multi-Allocator Comparison

| Allocator | Latency (64B) | Ratio | Throughput 1T | Ratio | Throughput 4T | Ratio | Peak RSS |
|-----------|------------:|------:|--------------:|------:|--------------:|------:|---------:|
| **compatmalloc** | 13.7 ns | 1.18x | 68.64 Mops/s | .86x | 154.88 Mops/s | .92x | 13100 KB |
| **glibc** | 11.6 ns | 1.00x | 79.72 Mops/s | 1.00x | 168.22 Mops/s | 1.00x | 10784 KB |
| **jemalloc** | 8.5 ns | .73x | 101.18 Mops/s | 1.26x | 248.72 Mops/s | 1.47x | 41696 KB |
| **mimalloc** | 11.4 ns | .98x | 81.50 Mops/s | 1.02x | 192.17 Mops/s | 1.14x | 22844 KB |
| **passthrough** | 21.1 ns | 1.81x | 45.29 Mops/s | .56x | 15.24 Mops/s | .09x | 11008 KB |
| **scudo** | 49.2 ns | 4.24x | 19.86 Mops/s | .24x | 40.20 Mops/s | .23x | 14684 KB |


> **Ratio interpretation:** Latency ratio < 1.0 = faster than glibc. Throughput ratio > 1.0 = faster than glibc.
>
> **Hardened allocators:** compatmalloc, scudo. These have security features (guard pages, quarantine, etc.) that add overhead vs. pure-performance allocators.
>
> **Peak RSS** measured via `/usr/bin/time -v` during a single benchmark run. Hardening features (quarantine, guard pages) increase memory usage.

### malloc/free Latency by Size (glibc)

```
  size=      16:     12.2 ns
  size=      32:     11.5 ns
  size=      64:     11.6 ns
  size=     128:     11.5 ns
  size=     256:     11.5 ns
  size=     512:     11.6 ns
  size=    1024:     11.6 ns
  size=    4096:     24.9 ns
  size=   16384:     24.9 ns
  size=   65536:     25.3 ns
  size=  262144:     25.2 ns
  size=      16:     19.4 ns
  size=      64:     16.2 ns
  size=     256:     26.8 ns
  size=    1024:     28.9 ns
  size=    4096:     90.8 ns
  size=   65536:    755.3 ns
```

### malloc/free Latency by Size (compatmalloc)

```
  size=      16:     14.2 ns
  size=      32:     13.8 ns
  size=      64:     13.7 ns
  size=     128:     13.7 ns
  size=     256:     13.8 ns
  size=     512:     14.2 ns
  size=    1024:     13.8 ns
  size=    4096:     14.0 ns
  size=   16384:     14.7 ns
  size=   65536:     23.6 ns
  size=  262144:     23.6 ns
  size=      16:     14.3 ns
  size=      64:     14.5 ns
  size=     256:     14.8 ns
  size=    1024:     18.9 ns
  size=    4096:     75.2 ns
  size=   65536:    756.5 ns
```

### Multi-threaded Throughput (glibc)

```
  threads=1:  79.72 Mops/sec
  threads=2: 154.42 Mops/sec
  threads=4: 168.22 Mops/sec
  threads=8: 163.79 Mops/sec
```

### Multi-threaded Throughput (compatmalloc)

```
  threads=1:  68.64 Mops/sec
  threads=2: 130.52 Mops/sec
  threads=4: 154.88 Mops/sec
  threads=8: 140.44 Mops/sec
```

### Real-World Application Overhead

| Application | glibc | compatmalloc | Overhead |
|-------------|------:|-------------:|---------:|
| python-json | .0661s | .0753s | 13.00% |
| redis | 2.4689s | 2.4494s | -1.00% |
| nginx | 5.1036s | 5.1042s | 0% |
| sqlite | .1629s | .1315s | -20.00% |
| git | .1962s | .1992s | 1.00% |


> Application benchmarks measure wall-clock time for real programs (Python, Redis, nginx, SQLite, Git).
> Overhead = (compatmalloc_time / glibc_time - 1) * 100%.

---

## ARM64 CI Results

> Auto-generated by CI on 2026-02-22 04:53 UTC from commit [`66681ae`](https://github.com/t-cun/compatmalloc/commit/66681aee358ecdb519e07c66ae1dd38c0fbcb820).
> Runner architecture: `aarch64` | Best-of-3 runs.

### Multi-Allocator Comparison (ARM64)

| Allocator | Latency (64B) | Ratio | Throughput 1T | Ratio | Throughput 4T | Ratio | Peak RSS |
|-----------|------------:|------:|--------------:|------:|--------------:|------:|---------:|
| **compatmalloc** | 15.6 ns | 1.32x | 63.49 Mops/s | .78x | 246.75 Mops/s | .78x | 12752 KB |
| **glibc** | 11.8 ns | 1.00x | 81.33 Mops/s | 1.00x | 315.85 Mops/s | 1.00x | 10204 KB |
| **jemalloc** | 10.0 ns | .84x | 96.89 Mops/s | 1.19x | 362.63 Mops/s | 1.14x | 12560 KB |
| **mimalloc** | 12.1 ns | 1.02x | 80.14 Mops/s | .98x | 291.82 Mops/s | .92x | 9148 KB |


> **Ratio interpretation:** Latency ratio < 1.0 = faster than glibc. Throughput ratio > 1.0 = faster than glibc.
>
> **Peak RSS** measured via `/usr/bin/time -v` during a single benchmark run. Hardening features (quarantine, guard pages) increase memory usage.

### malloc/free Latency by Size - ARM64 (glibc)

```
  size=      16:     11.8 ns
  size=      32:     11.7 ns
  size=      64:     11.8 ns
  size=     128:     11.8 ns
  size=     256:     11.8 ns
  size=     512:     11.9 ns
  size=    1024:     11.8 ns
  size=    4096:     24.3 ns
  size=   16384:     24.6 ns
  size=   65536:     24.6 ns
  size=  262144:     25.1 ns
  size=      16:     17.6 ns
  size=      64:     18.1 ns
  size=     256:     27.8 ns
  size=    1024:     32.2 ns
  size=    4096:     50.9 ns
  size=   65536:    375.8 ns
```

### malloc/free Latency by Size - ARM64 (compatmalloc)

```
  size=      16:     15.3 ns
  size=      32:     15.6 ns
  size=      64:     15.6 ns
  size=     128:     15.6 ns
  size=     256:     15.6 ns
  size=     512:     15.6 ns
  size=    1024:     15.7 ns
  size=    4096:     15.7 ns
  size=   16384:     15.8 ns
  size=   65536:     34.4 ns
  size=  262144:     34.5 ns
  size=      16:     17.2 ns
  size=      64:     17.8 ns
  size=     256:     19.6 ns
  size=    1024:     25.1 ns
  size=    4096:     46.9 ns
  size=   65536:    394.0 ns
```

### Multi-threaded Throughput - ARM64 (glibc)

```
  threads=1:  81.33 Mops/sec
  threads=2: 162.45 Mops/sec
  threads=4: 315.85 Mops/sec
  threads=8: 307.59 Mops/sec
```

### Multi-threaded Throughput - ARM64 (compatmalloc)

```
  threads=1:  63.49 Mops/sec
  threads=2: 127.18 Mops/sec
  threads=4: 246.75 Mops/sec
  threads=8: 236.88 Mops/sec
```
