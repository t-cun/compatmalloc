## Latest CI Results (x86_64)

> Auto-generated by CI on 2026-02-21 22:15 UTC from commit [`bad633d`](https://github.com/t-cun/compatmalloc/commit/bad633d3179ad0eec7188182262f79a954b40fbc).
> Results are from GitHub Actions runners (shared infrastructure) and may vary between runs.
> Each allocator is run 3 times; the **best (lowest latency)** result is kept.

### Multi-Allocator Comparison

| Allocator | Latency (64B) | Ratio | Throughput 1T | Ratio | Throughput 4T | Ratio | Peak RSS |
|-----------|------------:|------:|--------------:|------:|--------------:|------:|---------:|
| **compatmalloc** | 15.2 ns | 1.32x | 66.33 Mops/s | .84x | 152.11 Mops/s | .90x | 12664 KB |
| **glibc** | 11.5 ns | 1.00x | 78.30 Mops/s | 1.00x | 167.72 Mops/s | 1.00x | 10656 KB |
| **jemalloc** | 8.8 ns | .76x | 102.29 Mops/s | 1.30x | 243.33 Mops/s | 1.45x | 41504 KB |
| **mimalloc** | 11.3 ns | .98x | 80.35 Mops/s | 1.02x | 190.64 Mops/s | 1.13x | 22988 KB |
| **passthrough** | 21.1 ns | 1.83x | 44.05 Mops/s | .56x | 20.75 Mops/s | .12x | 10980 KB |
| **scudo** | 49.5 ns | 4.30x | 19.74 Mops/s | .25x | 39.71 Mops/s | .23x | 14748 KB |


> **Ratio interpretation:** Latency ratio < 1.0 = faster than glibc. Throughput ratio > 1.0 = faster than glibc.
>
> **Hardened allocators:** compatmalloc, scudo. These have security features (guard pages, quarantine, etc.) that add overhead vs. pure-performance allocators.
>
> **Peak RSS** measured via `/usr/bin/time -v` during a single benchmark run. Hardening features (quarantine, guard pages) increase memory usage.

### malloc/free Latency by Size (glibc)

```
  size=      16:     12.3 ns
  size=      32:     11.6 ns
  size=      64:     11.5 ns
  size=     128:     11.6 ns
  size=     256:     11.5 ns
  size=     512:     11.6 ns
  size=    1024:     11.6 ns
  size=    4096:     24.9 ns
  size=   16384:     24.9 ns
  size=   65536:     32.8 ns
  size=  262144:     25.3 ns
  size=      16:     15.9 ns
  size=      64:     16.3 ns
  size=     256:     26.8 ns
  size=    1024:     29.0 ns
  size=    4096:     92.5 ns
  size=   65536:    767.3 ns
```

### malloc/free Latency by Size (compatmalloc)

```
  size=      16:     15.7 ns
  size=      32:     15.2 ns
  size=      64:     15.2 ns
  size=     128:     15.2 ns
  size=     256:     15.2 ns
  size=     512:     15.3 ns
  size=    1024:     15.6 ns
  size=    4096:     14.9 ns
  size=   16384:     14.9 ns
  size=   65536:   3343.1 ns
  size=  262144:   3505.2 ns
  size=      16:     13.2 ns
  size=      64:     13.1 ns
  size=     256:     13.5 ns
  size=    1024:     18.1 ns
  size=    4096:     73.7 ns
  size=   65536:  31189.4 ns
```

### Multi-threaded Throughput (glibc)

```
  threads=1:  78.30 Mops/sec
  threads=2: 151.99 Mops/sec
  threads=4: 167.72 Mops/sec
  threads=8: 159.36 Mops/sec
```

### Multi-threaded Throughput (compatmalloc)

```
  threads=1:  66.33 Mops/sec
  threads=2: 132.95 Mops/sec
  threads=4: 152.11 Mops/sec
  threads=8: 140.19 Mops/sec
```

### Real-World Application Overhead

| Application | glibc | compatmalloc | Overhead |
|-------------|------:|-------------:|---------:|
| python-json | .0686s | .0788s | 14.00% |
| redis | 2.4459s | 2.4282s | -1.00% |
| nginx | 5.1044s | 5.1041s | -1.00% |
| sqlite | .1664s | .1317s | -21.00% |
| git | .2647s | .2661s | 0% |


> Application benchmarks measure wall-clock time for real programs (Python, Redis, nginx, SQLite, Git).
> Overhead = (compatmalloc_time / glibc_time - 1) * 100%.

---

## ARM64 CI Results

> Auto-generated by CI on 2026-02-21 22:14 UTC from commit [`bad633d`](https://github.com/t-cun/compatmalloc/commit/bad633d3179ad0eec7188182262f79a954b40fbc).
> Runner architecture: `aarch64` | Best-of-3 runs.

### Multi-Allocator Comparison (ARM64)

| Allocator | Latency (64B) | Ratio | Throughput 1T | Ratio | Throughput 4T | Ratio | Peak RSS |
|-----------|------------:|------:|--------------:|------:|--------------:|------:|---------:|
| **compatmalloc** | 14.6 ns | 1.24x | 66.98 Mops/s | .82x | 252.93 Mops/s | .80x | 12292 KB |
| **glibc** | 11.7 ns | 1.00x | 80.88 Mops/s | 1.00x | 315.34 Mops/s | 1.00x | 10400 KB |
| **jemalloc** | 10.1 ns | .86x | 96.85 Mops/s | 1.19x | 267.12 Mops/s | .84x | 12236 KB |
| **mimalloc** | 12.1 ns | 1.03x | 79.75 Mops/s | .98x | 310.79 Mops/s | .98x | 9136 KB |


> **Ratio interpretation:** Latency ratio < 1.0 = faster than glibc. Throughput ratio > 1.0 = faster than glibc.
>
> **Peak RSS** measured via `/usr/bin/time -v` during a single benchmark run. Hardening features (quarantine, guard pages) increase memory usage.

### malloc/free Latency by Size - ARM64 (glibc)

```
  size=      16:     11.7 ns
  size=      32:     11.7 ns
  size=      64:     11.7 ns
  size=     128:     11.8 ns
  size=     256:     11.8 ns
  size=     512:     11.9 ns
  size=    1024:     11.9 ns
  size=    4096:     24.2 ns
  size=   16384:     24.5 ns
  size=   65536:     24.6 ns
  size=  262144:     25.1 ns
  size=      16:     17.6 ns
  size=      64:     18.0 ns
  size=     256:     27.8 ns
  size=    1024:     32.2 ns
  size=    4096:     50.8 ns
  size=   65536:    382.1 ns
```

### malloc/free Latency by Size - ARM64 (compatmalloc)

```
  size=      16:     14.4 ns
  size=      32:     14.7 ns
  size=      64:     14.6 ns
  size=     128:     14.6 ns
  size=     256:     14.7 ns
  size=     512:     14.8 ns
  size=    1024:     14.7 ns
  size=    4096:     14.9 ns
  size=   16384:     14.8 ns
  size=   65536:   2391.7 ns
  size=  262144:   2869.5 ns
  size=      16:     16.6 ns
  size=      64:     16.7 ns
  size=     256:     18.8 ns
  size=    1024:     24.4 ns
  size=    4096:     43.9 ns
  size=   65536:  14251.0 ns
```

### Multi-threaded Throughput - ARM64 (glibc)

```
  threads=1:  80.88 Mops/sec
  threads=2: 160.85 Mops/sec
  threads=4: 315.34 Mops/sec
  threads=8: 298.93 Mops/sec
```

### Multi-threaded Throughput - ARM64 (compatmalloc)

```
  threads=1:  66.98 Mops/sec
  threads=2: 133.82 Mops/sec
  threads=4: 252.93 Mops/sec
  threads=8: 197.79 Mops/sec
```
