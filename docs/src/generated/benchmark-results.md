## Latest CI Results (x86_64)

> Auto-generated by CI on 2026-02-21 20:02 UTC from commit [`459f7b9`](https://github.com/t-cun/compatmalloc/commit/459f7b9e3ffa089614bd678b426243ff7ff41e1c).
> Results are from GitHub Actions runners (shared infrastructure) and may vary between runs.
> Each allocator is run 3 times; the **best (lowest latency)** result is kept.

### Multi-Allocator Comparison

| Allocator | Latency (64B) | Ratio | Throughput 1T | Ratio | Throughput 4T | Ratio | Peak RSS |
|-----------|------------:|------:|--------------:|------:|--------------:|------:|---------:|
| **compatmalloc** | 13.9 ns | 1.20x | 70.95 Mops/s | .88x | 162.27 Mops/s | .96x | 13656 KB |
| **glibc** | 11.5 ns | 1.00x | 79.92 Mops/s | 1.00x | 168.19 Mops/s | 1.00x | 10660 KB |
| **jemalloc** | 8.5 ns | .73x | 101.80 Mops/s | 1.27x | 249.72 Mops/s | 1.48x | 37496 KB |
| **mimalloc** | 11.3 ns | .98x | 80.03 Mops/s | 1.00x | 188.68 Mops/s | 1.12x | 20900 KB |
| **passthrough** | 21.5 ns | 1.86x | 44.49 Mops/s | .55x | 17.83 Mops/s | .10x | 11040 KB |
| **scudo** | 49.0 ns | 4.26x | 19.89 Mops/s | .24x | 40.21 Mops/s | .23x | 14744 KB |


> **Ratio interpretation:** Latency ratio < 1.0 = faster than glibc. Throughput ratio > 1.0 = faster than glibc.
>
> **Hardened allocators:** compatmalloc, scudo. These have security features (guard pages, quarantine, etc.) that add overhead vs. pure-performance allocators.
>
> **Peak RSS** measured via `/usr/bin/time -v` during a single benchmark run. Hardening features (quarantine, guard pages) increase memory usage.

### malloc/free Latency by Size (glibc)

```
  size=      16:     12.2 ns
  size=      32:     11.5 ns
  size=      64:     11.5 ns
  size=     128:     12.3 ns
  size=     256:     11.8 ns
  size=     512:     11.6 ns
  size=    1024:     11.5 ns
  size=    4096:     24.9 ns
  size=   16384:     24.9 ns
  size=   65536:     25.3 ns
  size=  262144:     25.2 ns
  size=      16:     15.9 ns
  size=      64:     16.9 ns
  size=     256:     26.9 ns
  size=    1024:     29.0 ns
  size=    4096:     92.2 ns
  size=   65536:    758.4 ns
```

### malloc/free Latency by Size (compatmalloc)

```
  size=      16:     14.4 ns
  size=      32:     14.0 ns
  size=      64:     13.9 ns
  size=     128:     14.0 ns
  size=     256:     13.9 ns
  size=     512:     14.0 ns
  size=    1024:     13.7 ns
  size=    4096:     14.1 ns
  size=   16384:     13.5 ns
  size=   65536:     77.0 ns
  size=  262144:    256.3 ns
  size=      16:     12.9 ns
  size=      64:     12.3 ns
  size=     256:     13.7 ns
  size=    1024:     18.8 ns
  size=    4096:     74.1 ns
  size=   65536:    811.6 ns
```

### Multi-threaded Throughput (glibc)

```
  threads=1:  79.92 Mops/sec
  threads=2: 154.48 Mops/sec
  threads=4: 168.19 Mops/sec
  threads=8: 143.47 Mops/sec
```

### Multi-threaded Throughput (compatmalloc)

```
  threads=1:  70.95 Mops/sec
  threads=2: 139.20 Mops/sec
  threads=4: 162.27 Mops/sec
  threads=8: 152.46 Mops/sec
```

### Real-World Application Overhead

| Application | glibc | compatmalloc | Overhead |
|-------------|------:|-------------:|---------:|
| python-json | .0670s | .0722s | 7.00% |
| redis | 2.4587s | 2.4542s | -1.00% |
| nginx | 5.1035s | 5.1035s | 0% |
| sqlite | .1513s | .1337s | -12.00% |
| git | .5580s | .5534s | -1.00% |


> Application benchmarks measure wall-clock time for real programs (Python, Redis, nginx, SQLite, Git).
> Overhead = (compatmalloc_time / glibc_time - 1) * 100%.

---

## ARM64 CI Results

> Auto-generated by CI on 2026-02-21 20:01 UTC from commit [`459f7b9`](https://github.com/t-cun/compatmalloc/commit/459f7b9e3ffa089614bd678b426243ff7ff41e1c).
> Runner architecture: `aarch64` | Best-of-3 runs.

### Multi-Allocator Comparison (ARM64)

| Allocator | Latency (64B) | Ratio | Throughput 1T | Ratio | Throughput 4T | Ratio | Peak RSS |
|-----------|------------:|------:|--------------:|------:|--------------:|------:|---------:|
| **compatmalloc** | 14.8 ns | 1.25x | 66.11 Mops/s | .82x | 257.57 Mops/s | .80x | 12956 KB |
| **glibc** | 11.8 ns | 1.00x | 80.51 Mops/s | 1.00x | 318.56 Mops/s | 1.00x | 10336 KB |
| **jemalloc** | 10.1 ns | .85x | 95.40 Mops/s | 1.18x | 354.75 Mops/s | 1.11x | 12304 KB |
| **mimalloc** | 12.0 ns | 1.01x | 80.10 Mops/s | .99x | 311.49 Mops/s | .97x | 9272 KB |


> **Ratio interpretation:** Latency ratio < 1.0 = faster than glibc. Throughput ratio > 1.0 = faster than glibc.
>
> **Peak RSS** measured via `/usr/bin/time -v` during a single benchmark run. Hardening features (quarantine, guard pages) increase memory usage.

### malloc/free Latency by Size - ARM64 (glibc)

```
  size=      16:     11.9 ns
  size=      32:     11.8 ns
  size=      64:     11.8 ns
  size=     128:     11.8 ns
  size=     256:     11.8 ns
  size=     512:     11.9 ns
  size=    1024:     11.9 ns
  size=    4096:     24.2 ns
  size=   16384:     24.6 ns
  size=   65536:     24.6 ns
  size=  262144:     25.2 ns
  size=      16:     17.5 ns
  size=      64:     18.0 ns
  size=     256:     27.8 ns
  size=    1024:     32.2 ns
  size=    4096:     50.7 ns
  size=   65536:    382.0 ns
```

### malloc/free Latency by Size - ARM64 (compatmalloc)

```
  size=      16:     14.5 ns
  size=      32:     14.7 ns
  size=      64:     14.8 ns
  size=     128:     14.8 ns
  size=     256:     14.8 ns
  size=     512:     15.0 ns
  size=    1024:     14.8 ns
  size=    4096:     14.8 ns
  size=   16384:     14.9 ns
  size=   65536:    235.2 ns
  size=  262144:    691.5 ns
  size=      16:     16.4 ns
  size=      64:     16.6 ns
  size=     256:     18.9 ns
  size=    1024:     24.4 ns
  size=    4096:     44.2 ns
  size=   65536:    602.0 ns
```

### Multi-threaded Throughput - ARM64 (glibc)

```
  threads=1:  80.51 Mops/sec
  threads=2: 162.93 Mops/sec
  threads=4: 318.56 Mops/sec
  threads=8: 227.59 Mops/sec
```

### Multi-threaded Throughput - ARM64 (compatmalloc)

```
  threads=1:  66.11 Mops/sec
  threads=2: 131.19 Mops/sec
  threads=4: 257.57 Mops/sec
  threads=8: 186.33 Mops/sec
```
